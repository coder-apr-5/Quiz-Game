const quiz = [
{q:'What is cyber security?',
options:['The protection of computer networks from theft or damage to hardware, software and data, as well as causes leading to interruptions, diversions of services currently used','The protection of computer networks from theft or damage to hardware, software and data','The protection of the computer network from the causes leading to the interruption, diversion of the services currently used','The protection of computer networks from viruses'],
answer:0},


{q:'Choose the correct statement about cyber security',
options:['The protection of computer networks from theft or damage to hardware, software and data, as well as causes leading to interruptions, diversions of services currently used','Only the management board and employees using computer-related devices and need to pay attention to the network security protection of the company.','If the company is fully equipped with anti-virus software, employees do not need to be trained in cases to be on the lookout for a cyber attack.','Only software developers need to care about computer network security'],
answer:0},


{q:'Which party should have knowledge on cyber security?',
options:['All employees in the company','Only senior managers of each department','Only employees of the IT department or employees who use computer-related devices need to pay attention to cyber security.','Only members of the management board of the company'],
answer:0},


{q:'Choose the most accurate statement',
options:['All employees in the company need to know about cybersecurity','Only senior managers need to know about cybersecurity','Only employees of the IT department or employees who use computer-related devices need to pay attention to cyber security.','Only members of the management board of the company need to pay attention to cyber security'],
answer:0},


{q:'Which enterprise size is most susceptible to cyber security issues?',
options:['All of the above','Big-size company','Medium-size company','Small-size company'],
answer:0},


{q:'Choose the most accurate statement',
options:['All employees should be trained on what to watch out for in the event of a cyber attack.','Only specific employees (e.g. IT staff) should be trained on what to watch out for in the event of a cyber attack.','If the company is fully equipped with anti-virus software, employees do not need to be trained in cases to be on the lookout for a cyber attack.','Only those who work with confidential information should be trained in the circumstances to be on the lookout for a cyber attack.'],
answer:0},


{q:'What kind of wifi do you think is the safest one that you can connect with your working device?',
options:['Wifi has access control measures such as: password, request declaration form and consent for the connection.','Free wifi, no password required like in restaurants, coffee shops, bookstores, etc.','Wifi services need to pay a fee such as wifi in hotels,â€¦','Private wifi, need a password to be able to connect, for example wifi of your house'],
answer:0},


{q:'Who will be responsible for protecting cybersecurity in the workplace?',
options:['All employees in MBV','IT department or employees using computer-related machines and equipment','Software developer','Management team'],
answer:0},


{q:'Choose the most accurate statement',
options:['The responsibility for protecting cyber security in the workplace belongs to all employees in the company','Only the management team needs to pay attention to cyber security','Responsibility for cyber security protection belongs to the IT department','Only software developers need to pay attention to cyber security'],
answer:0},


{q:'When you receive an email from an unknown contact that contains a link to another website, what should you do?',
options:['Do not click on the link in the email, but instead click on "Check for phishing" and report it to the IT staff','Click on the link to see its contents','Forward that email to a colleague and let them open the link first','Forward that email to a personal email so it can be read after work'],
answer:0},


{q:'Choose the most accurate statement',
options:['When receiving an email from a stranger containing a link to another website, do not click on the link, but click "Check for Phishing" and immediately notify the IT staff.','Forward emails from strangers with links to other websites to colleagues','Forward emails from strangers containing a link to another website to a personal account that can be read after hours','When you receive an email from a stranger containing a link to another website, immediately click to view the content.'],
answer:0},


{q:'What is considered the main factor affecting the cyber security protection of the company ?',
options:['Employees, internal members of the company','External members','Employees, contractors working in the campus of MBV','Visitors'],
answer:0},


{q:'Who is considered a cyber security attacker?',
options:['Cybersecurity attackers can be both skillful computer professionals as well as computer criminals','Computers professionals','Computer criminals','Friends or acquaintances working at competing companies, scammers'],
answer:0},


{q:'What is phishing?',
options:['When a cybersecurity attacker tries to reach you as someone you trust and steal your information or the information on your device','Misspelled word','A misspelled word of Fishing','A term in informatics'],
answer:0},


{q:'Which one is the most accurate example for phishing?',
options:['All of the above','"You are awarded an iphone 14 pro max, click on the link to claim"','"There is a friend who wants to send you a large amount of money. Click here to receive your money"','Your bank account has just been accessed by someone, you need to log in to this link to confirm that it was not you.'],
answer:0},


{q:'Choose the most accurate statement',
options:['If I receive an email from the human resources department asking for more personal information, I must check with the human resources department directly before following the request in the email.','If I receive an email from someone who looks like an acquaintance, I will click on any link attached to the email because I already have anti-virus software.','I can trust an email sent from a sender with the same name and avatar as someone I know','If a coworker texts me and asks for password of my working device, I will let them know the password.'],
answer:0},


{q:'When you receive an email from your boss asking for your personal information including your name, address, credit card number, .... What should you do?',
options:['Do not respond to emails providing requested information immediately. Have to double-check directly that the email is really from your boss.','Send an email to reply and provide information as requested because it is the request from your boss','Send an email to reply and provide information as requested by your boss and confirm with your boss later','Do not send email replies and do not directly confirm the authenticity of the email back to your boss'],
answer:0},


{q:'When you receive an email from your boss asking you for your personal information including your name, address, credit card number, .... Your boss asks you to answer immediately then you will reply immediately. True or false?',
options:['FALSE','TRUE'],
answer:0},


{q:'Email account verification can help you avoid phishing',
options:['TRUE','FALSE'],
answer:0},


{q:'In case you accidentally provide personal information at the request of an impersonated attacker, what should you do to minimize the damage?',
options:['Change password immediately, notify relevant management to limit and prevent damage.','Turn off the computer. This will minimize damage to other software','Delete phishing email'],
answer:0},


{q:'In case you receive a message from a colleague, which contains a link to another website. You are asked to click on the link to view their information. What you will do?',
options:['Call immediately to confirm with that colleague ','Click on the link as requested by a colleague','Send a message to someone else and ask them to see it for you','Ignore the message'],
answer:0},


{q:'In case you receive a message from a colleague, which contains a link to another website. You are required to click on the link to see their information. You will do what your colleague asks. True or false?',
options:['FALSE','TRUE'],
answer:0},


{q:'Is it allowed to plug any USB you have into the device that holds your work data?',
options:['Not allowed','Allowed'],
answer:0},


{q:'Choose the most accurate statement',
options:['Do not use a USB to avoid viruses entering the device. Use only USBs certified and provided by an authorized person.','The computer can be connected to all other devices via the USB port because the computer already has anti-virus software','Use a personal USB that has been disinfected','Using a USB given as a gift from another anti-virus company'],
answer:0},


{q:'Is the following statement true or false "My computer has anti-virus software installed, so I can freely click on any link or advertising website I want without fear of getting a virus attack"',
options:['FALSE','TRUE'],
answer:0},


{q:'Which of the following actions is considered NOT safe in protecting information on working devices?',
options:['Reveal the password of the working device to colleagues','Set a strong password that includes elements: letters, numbers, special characters, capital letters','Do not reveal the password of your working device to anyone, even your close colleagues','Do not write your password on paper and keep it in workplace'],
answer:0},


{q:'When you see a message containing a link from an unknown contact, what should you do to protect cyber security?',
options:['Do not click on links and report spam mail','Click on the link to view the content','Send the link to a colleague and ask them to open and preview for you','Send a link to your personal email account and read after work'],
answer:0},


{q:'"It is safe to share your working device password with close colleagues" True or False?',
options:['FALSE','TRUE'],
answer:0},


{q:'Which of the following passwords is considered a highly secure password for your working device?',
options:['ABCxyz161@2','123456','AbCxYz','Abc123456'],
answer:0},


{q:'Choose the most accurate statement',
options:['Refuse when colleagues ask for information of working device passwords so that they can unlock when necessary','Let co-workers know the password of their personal work device','Keep the password information of your device in a place where everyone can see it'],
answer:0},


{q:'What should you do to protect your device and the folders on it?',
options:['Regularly update software','Software update only once a year','Do not update the software because it is very time consuming'],
answer:0},


{q:'What should you do to protect your device and the folders on it?',
options:['Create a backup folder to store important data in case of data loss','Put important data in a single folder','No need for backup storage because I believe the network security system of the company works well','Important data should only be stored in a single folder to make them easy to find'],
answer:0},


{q:'What should you do to protect your device and the folders inside?',
options:['Installing multi-factor security for accounts containing strictly confidential information is essential to avoid being penetrated by cybercriminals.','No password for conveniently open the device','Simple password is what I need for quickly opne the device','Multi-factor security settings for all accounts just to be sure'],
answer:0},


{q:'What should you do to protect your device and the folders inside?',
options:['Always set passwords for all electronic devices (phones, tablets, laptops, etc.) containing important information, including personal devices.','Simple password is what I need for quickly opne the device','The password contains text and numbers is the safest way to protect working device','No password because I trust everyone around me'],
answer:0},


{q:'What should you do when entering the working device password?',
options:['Enter the password securely, not for others to see','Enter the password while reading aloud for everyone to hear','Enter your password in front of many people watching your device','Take note the password and stick it on the device so it is easy to see'],
answer:0},


{q:'"I can stick a note containing password on a personal working device directly on the device?" True or False',
options:['FALSE','TRUE'],
answer:0},


{q:'Your boss asks you directly to give them information about your working device password. What would you do?',
options:['Ask your boss why he needs it. If you do no have a specific reason, do not give it away because it is a personal working device and ask your boss about document he wants and you will email it later.','Give your boss the information you need because you are a superior','Ignore request of your boss','Give your boss the wrong information about your device password'],
answer:0},


{q:'Should you use working device in public places where many people see?',
options:['Should not','Should'],
answer:0},


{q:'Where should you comply with the principles of cyber security?',
options:['At the office and anywhere when you work with company data','At the office only','In the meeting room, when there are discussions involving confidential information','Comply in the company, but no need to comply when working at home'],
answer:0},


{q:'What should you do when leaving the working table?',
options:['Turning off the device before leaving','Keep the device on and leave','Tidy up tables and chairs','Do nothing'],
answer:0},


{q:'How many types of cyber attacks are there?',
options:['There are two types: direct cyber security attack and indirect cyber security attack','There are 4 types of cyber attacks: local attack, mass attack, personal attack, and organization attack.','There is only one type of cybersecurity attack because all types of cyberattacks are of the same nature','There are 3 types of cybersecurity attacks, classified by enterprise size including large enterprises, medium enterprises, and small businesses.'],
answer:0},


{q:'What is a direct cyber security attack?',
options:['A targeted attack designed by a cybercriminal to target a specific organization, industry, or country.','Is an attack that takes place directly at a specific company','Is a targeted attack, designed by a cybercriminal to target a specific individual','A targeted attack, designed by a cybercriminal to have a specific result, such as ransom through malware, and cause economic damage to many companies.'],
answer:0},


{q:'Which of the following statements is true about "Direct Cybersecurity Attack"?',
options:['A targeted attack designed by a cybercriminal to target a specific organization, industry, or country.','Is an attack that takes place directly at a specific company','Is a targeted attack, designed by a cybercriminal to target a specific individual','A targeted attack, designed by a cybercriminal to have a specific result, such as ransom through malware, and cause economic damage to many companies.'],
answer:0},


{q:'What is a indirect cyber security attack?',
options:['A targeted attack, designed by a cybercriminal to have a specific result, such as ransom through malware, and cause economic damage to many companies.','An attack that takes place indirectly, outside of the company','Is a targeted attack, designed by cybercriminals to target many individuals','An improvised attack, without a specific target, designed by cybercriminals to attack large areas'],
answer:0},


{q:'Which of the following statements is true about "Indirect Cybersecurity Attack"?',
options:['A targeted attack, designed by a cybercriminal to have a specific result, such as ransom through malware, and cause economic damage to many companies.','An attack that takes place indirectly, outside of the company','Is a targeted attack, designed by cybercriminals to target many individuals','An improvised attack, without a specific target, designed by cybercriminals to attack large areas'],
answer:0},


{q:'When you see a laptop of your colleague still open after they leave the desk, what should you do?',
options:['Turn off the device for your coworker and let them know when they get back to the office. Absolutely do not click to view and steal the data on their device before shutting down','Open to see what colleagues are doing on the device','Shutdown for a colleague, but before shutting down, click to see what they are doing on the computer','Do not care because it is not my computer'],
answer:0},


{q:'What is the safest way to transfer data within the company?',
options:['Transfer data through ONLY TRANSFER folder','Plug your personal device directly into your work computer with an extension cable','Save work-related data to another storage application, then download it to your work computer later','Send via messaging apps other than MS Teams'],
answer:0},


{q:'When you want to backup data from TPR machines or from Robots to company laptops, how to handle it?',
options:['In order to back up data to the computer, it is necessary to contact Network Security (Engineering) and use a USB authenticated by Network Security for backup and must check the files for viruses before connecting to production computers and office computers.','It is okay to backup with a personal USB because it is fast and convenient'],
answer:0},


{q:'When you see strangers approaching computers located in factories and showing signs of suspicion, what should you do?',
options:['Immediately stop then notify management','Ignore and continue to focus on work because that is the responsibility of another department','Notice to management','Immediately stop them'],
answer:0},


{q:'Choose the most accurate statement',
options:['The safest way to transfer data within the company is through the ONLY TRANSFER folder','The safest way to transfer data within the company is to plug the personal device directly into the working computer with a cable.','The safest way to transfer data within the company is to save work-related data to another storage application, then download it to your work computer later.','The safest way to transfer data within the company is to send it through messaging applications other than MS Teams'],
answer:0},


{q:'Choose the most accurate statement',
options:['When you see strangers approaching the computers located in the factories and acting suspiciously, you must immediately stop them and then notify the management.','When a colleague from another department asks you to open the work computer for them to see, you will open it right away','When a coworker asks for the password of your computer, give them immediately'],
answer:0},


{q:'Should you write a working device password on paper and put it in a visible place to protect cybersecurity?',
options:['Should not','Should'],
answer:0},


{q:'"I can post company internal information on social network?" True or False?',
options:['FALSE','TRUE'],
answer:0},


{q:'"I have the right to stick the password of the TPR machine on the screen" True or False?',
options:['FALSE','TRUE'],
answer:0},


{q:'Why should all employees work together to protect workplace cybersecurity?',
options:['All of the above','Because cybersecurity directly affects the reputation of the company and overall profits','Because cybersecurity is a common issue for all employees','Because every working device affects the network security of the company'],
answer:0},


{q:'When using working device at home, is it necessary to turn off the device when leaving the desk?',
options:['Neither of the above','Unnecessary because there are no strangers at home','It is not necessary because home is the safest','It is not necessary because there is only me inside the room'],
answer:0},


{q:'When leaving your desk after work, what is the first thing you should do?',
options:['Shut down working device and put it in a safe place before leaving','Lock the screen and leave','Shut down working device and leave','Tidy up the working area'],
answer:0}

]
const questionNumber = document.querySelector(".question-number");
const questionText = document.querySelector(".question-text");
const optionContainer = document.querySelector(".option-container");
const answersIndicatorContainer = document.querySelector(".answer-indicator")
const homeBox=document.querySelector(".home-box")
const quizBox=document.querySelector(".quiz-box")
const resultBox=document.querySelector(".result-box")

let questionCounter = 0;
let currentQuestion;
let availableQuestion =[];
let availableOptions =[];
let correctAnswers = 0;
let attemp = 0;
const questionLimit = 5;

function setAvailableQuestion(){
	const totalQuestion = quiz.length;
	for(let i=0;i<totalQuestion;i++){
		availableQuestion.push(quiz[i])
	}
}
function getNewQuestion(){
	questionNumber.innerHTML = "Question "+ (questionCounter + 1) + " / " + questionLimit;
	const questionIndex = availableQuestion[Math.floor(Math.random()*availableQuestion.length)]
	currentQuestion =questionIndex;
	questionText.innerHTML = currentQuestion.q;
	const index1 = availableQuestion.indexOf(questionIndex);
	availableQuestion.splice(index1,1);
  	if(currentQuestion.hasOwnProperty("img")){
		const img = document.createElement("img");
		img.src = currentQuestion.img;
		questionText.appendChild(img);
	}
	const optionLen = currentQuestion.options.length
	for(let i=0;i<optionLen;i++){
		availableOptions.push(i)
	}
	optionContainer.innerHTML = '';
	let animationDelay = 0.2;
	for(let i=0; i<optionLen;i++){
		const option = document.createElement("div");
		const optionIndex = availableOptions[Math.floor(Math.random()*availableOptions.length)];
		const index2 = availableOptions.indexOf(optionIndex);
		availableOptions.splice(index2,1);
		option.innerHTML = currentQuestion.options[optionIndex];
		option.id=optionIndex;
		option.style.animationDelay = animationDelay + 's';
		animationDelay = animationDelay + 0.2;
		option.className = "option";
		optionContainer.appendChild(option);
		option.setAttribute("onclick","getResult(this)");
	}

	questionCounter++
}
function getResult(element){
	const id = parseInt(element.id);
	if(id === currentQuestion.answer){
		element.classList.add("correct");
		updateAnswerIndicator("correct");
		correctAnswers++;
		console.log("correct:"+ correctAnswers)
	}
	else{
		element.classList.add("wrong");
		const optionLen = optionContainer.children.length;
		for (let i=0; i<optionLen;i++){
			if(parseInt(optionContainer.children[i].id) === currentQuestion.answer){
				optionContainer.children[i].classList.add("correct");
			}
		}
		updateAnswerIndicator("wrong");
	}
	attemp++;
	unclickableOptions();
}
function unclickableOptions(){
	const optionLen = optionContainer.children.length;
	for(let i=0;i<optionLen;i++){
		optionContainer.children[i].classList.add("done");
	}
}
function answersIndicator(){
	answersIndicatorContainer.innerHTML='';
	const totalQuestion = questionLimit;
	for(let i=0;i<totalQuestion;i++){
		const indicator = document.createElement("div");
		answersIndicatorContainer.appendChild(indicator);
	}
}

function updateAnswerIndicator(markType){
	answersIndicatorContainer.children[questionCounter-1].classList.add(markType)
}
function next(){
	if (questionCounter === questionLimit){
		console.log("over");
		quizOver();
	}
	else{
		getNewQuestion();
	}
}
function quizOver(){
	quizBox.classList.add("hide");
	resultBox.classList.remove("hide");
	quizResult();
}
function quizResult(){
	resultBox.querySelector(".total-question").innerHTML = questionLimit;
	resultBox.querySelector(".total-corect").innerHTML = correctAnswers
	if(correctAnswers === 5){
		resultBox.querySelector(".percentage").innerHTML = "Outstanding performance. Please come to the canteen to receive your prize."
	}
	else if(correctAnswers === 4){
		resultBox.querySelector(".percentage").innerHTML = "Only 1 wrong answer. PLease try again and do your best."
	}
	else {
		resultBox.querySelector(".percentage").innerHTML = "Please try again and do your best"
	}
	resultBox.querySelector(".total-score").innerHTML = correctAnswers + " / " + questionLimit;
}
function resetQuiz(){
	questionCounter = 0;
	correctAnswers = 0;
	attemp = 0;
}
function tryAgain(){
	resultBox.classList.add("hide");
	quizBox.classList.remove("hide");
	resetQuiz();
	startQuiz();
}
function goToHome(){
	resultBox.classList.add("hide");
	homeBox.classList.remove("hide");
	resetQuiz();
}
function startQuiz(){
	homeBox.classList.add("hide");
	quizBox.classList.remove("hide");
	setAvailableQuestion();
	getNewQuestion();
	answersIndicator();
}